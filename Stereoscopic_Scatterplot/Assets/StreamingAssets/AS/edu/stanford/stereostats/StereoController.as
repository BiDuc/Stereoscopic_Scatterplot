package edu.stanford.stereostats{	import flash.display.MovieClip;	import flash.display.DisplayObject;	import flash.events.*;	import flash.external.*;	public class StereoController {		public var LeftMenu:MainMenu;		public var RightMenu:MainMenu;		public var currentScreen:int;		public var screenHistory:Vector.<int>;		public function StereoController(leftMenu:MainMenu, rightMenu:MainMenu) {			screenHistory = new Vector.<int>();			LeftMenu = leftMenu;			RightMenu = rightMenu;		}		public function clickBack(e:Event):void {			if (screenHistory.length > 1) {				var lastScreen:int = screenHistory.splice(screenHistory.length - 2,2)[0];				gotoScreen(lastScreen);			}			switch (currentScreen) {				case 3 :					ExternalInterface.call("CloseGate");					break;			}		}		public function gotoScreen(newScreen:int):void {			if (currentScreen == newScreen) {				return;			}						LeftMenu.gotoAndStop(newScreen);			RightMenu.gotoAndStop(newScreen);			LeftMenu.addListenersToButtons();			RightMenu.addListenersToButtons();						screenHistory.push(newScreen);			currentScreen = newScreen;						ExternalInterface.call("SetState", newScreen);		}		public function stageMouseUp(e:Event) {			switch (currentScreen) {				case 1 :					break;				default :					gotoScreen(1);			}		}	}}